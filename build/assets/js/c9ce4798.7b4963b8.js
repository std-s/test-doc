"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[4713],{32091:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const i={},o="Recording your meetings via Dyte",s={unversionedId:"recording-your-meetings",id:"recording-your-meetings",title:"Recording your meetings via Dyte",description:"We allows recordings for all Dyte meetings. This feature records the grid part of the meeting. The result of the recording is an mp4 file, encoded using H.264 codec (this can be changed).",source:"@site/docs/guides/recording-your-meetings.mdx",sourceDirName:".",slug:"/recording-your-meetings",permalink:"/guides/recording-your-meetings",draft:!1,editUrl:"https://github.com/OpenIMSDK/OpenIM-Docs/tree/main/docs/docs/guides/recording-your-meetings.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Livestreaming Dyte Meetings to other platforms",permalink:"/guides/livestreaming-other-platforms"}},l={},d=[{value:"Recording states",id:"recording-states",level:2},{value:"Considerations for a recording",id:"considerations-for-a-recording",level:2},{value:"Recording settings",id:"recording-settings",level:2},{value:"Publishing a recording to your cloud provider",id:"publishing-a-recording-to-your-cloud-provider",level:2},{value:"AWS S3 (Amazon Web Services)",id:"aws-s3-amazon-web-services",level:3},{value:"DigitalOcean Spaces (DigitalOcean)",id:"digitalocean-spaces-digitalocean",level:3},{value:"Azure Blob Storage (Azure)",id:"azure-blob-storage-azure",level:3}],p={toc:d};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"recording-your-meetings-via-dyte"},"Recording your meetings via Dyte"),(0,r.kt)("p",null,"We allows recordings for all Dyte meetings. This feature records the grid part of the meeting. The result of the recording is an mp4 file, encoded using ",(0,r.kt)("inlineCode",{parentName:"p"},"H.264")," codec (this can be changed)."),(0,r.kt)("p",null,"Usually to record a meeting, the flow of APIs is like below:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Start a recording by using the ",(0,r.kt)("a",{parentName:"li",href:"/api/#/operations/start_recording"},(0,r.kt)("inlineCode",{parentName:"a"},"POST")," endpoint"),"."),(0,r.kt)("li",{parentName:"ol"},"Poll the ",(0,r.kt)("a",{parentName:"li",href:"/api/#/operations/get_recording"},(0,r.kt)("inlineCode",{parentName:"a"},"GET")," endpoint")," to check the status of recording."),(0,r.kt)("li",{parentName:"ol"},"Stop the recording by using the ",(0,r.kt)("a",{parentName:"li",href:"/api/#/operations/stop_recording"},(0,r.kt)("inlineCode",{parentName:"a"},"PUT")," endpoint"),"."),(0,r.kt)("li",{parentName:"ol"},"Use the ",(0,r.kt)("a",{parentName:"li",href:"/api/#/operations/get_recording"},(0,r.kt)("inlineCode",{parentName:"a"},"GET")," endpoint")," again to get a pre-signed URL for downloading the recording.")),(0,r.kt)("p",null,"You can also use ",(0,r.kt)("a",{parentName:"p",href:"./integrating-with-webhooks#recordingstatusupdate"},"webhooks as described here")," to subscribe to meeting status update events instead of polling."),(0,r.kt)("h2",{id:"recording-states"},"Recording states"),(0,r.kt)("p",null,"Recording can have one of these states, which are also notified through ",(0,r.kt)("a",{parentName:"p",href:"./integrating-with-webhooks#recordingstatusupdate"},"webhooks"),":"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"INVOKED"),(0,r.kt)("td",{parentName:"tr",align:null},"The recording function has been invoked and will start recording the meeting very shortly.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RECORDING"),(0,r.kt)("td",{parentName:"tr",align:null},"The meeting is currently being recorded.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UPLOADING"),(0,r.kt)("td",{parentName:"tr",align:null},"The recording has been stopped and the file is being uploaded to cloud storage. The storage would be Dyte's if no storage parameters are passed in the recording API call.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UPLOADED"),(0,r.kt)("td",{parentName:"tr",align:null},"The recording file upload is complete.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ERRORED"),(0,r.kt)("td",{parentName:"tr",align:null},"There was an error while recording the meeting and the file wouldn't be available.")))),(0,r.kt)("h2",{id:"considerations-for-a-recording"},"Considerations for a recording"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Recording will stop if there is no participant in the meeting for 60 seconds (1 minute)."),(0,r.kt)("li",{parentName:"ol"},"There can only be one active recording of a meeting."),(0,r.kt)("li",{parentName:"ol"},"Average size for one hour of recording is approximately ",(0,r.kt)("inlineCode",{parentName:"li"},"300MB"),"."),(0,r.kt)("li",{parentName:"ol"},"Maximum recording time is 24 hours. Recording will automatically stop after the expiry of that period from the time of recording start. This option can be configured by passing the ",(0,r.kt)("inlineCode",{parentName:"li"},"maxSeconds")," parameter in the start recording API.")),(0,r.kt)("h2",{id:"recording-settings"},"Recording settings"),(0,r.kt)("p",null,"You can modify the codec which is used for recording the videos. We currently support three codecs"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"H264 (default): ",(0,r.kt)("a",{parentName:"li",href:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/test/h264_sample.webm"},"sample recording")),(0,r.kt)("li",{parentName:"ol"},"VP8: ",(0,r.kt)("a",{parentName:"li",href:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/test/vp8_sample.webm"},"sample recording")),(0,r.kt)("li",{parentName:"ol"},"VP9: ",(0,r.kt)("a",{parentName:"li",href:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/test/vp9_sample.webm"},"sample recording"))),(0,r.kt)("admonition",{title:"Resolution",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"By default, Dyte uses a resolution of 720p for all recordings. If there is a requirement for a higher resolution, please contact us directly to configure the same for your organization.")),(0,r.kt)("p",null,"You can change the codec by specifying the codec in ",(0,r.kt)("inlineCode",{parentName:"p"},"videoConfig")," when you are creating a recording."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl --request POST \\\n  --url https://api.dyte.in/v1/organizations/orgid/meetings/meetingid/recording \\\n  --header 'Authorization: APIKEY yourapi-key' \\\n  --header 'Content-Type: application/json' \\\n  --data '{\n    \"videoConfig\": {\n        \"codec\": \"VP8\"\n    }\n}'\n")),(0,r.kt)("h2",{id:"publishing-a-recording-to-your-cloud-provider"},"Publishing a recording to your cloud provider"),(0,r.kt)("p",null,"You can pass an optional object ",(0,r.kt)("inlineCode",{parentName:"p"},"storageConfig")," in the start recording request and we will publish the recording directly to your cloud provider once it stops. If a ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," is specified, the recorded video will be stored there, otherwise the default is the root of the directory. The filename for recording will be the same as given in ",(0,r.kt)("inlineCode",{parentName:"p"},"outputFileName")," in the ",(0,r.kt)("a",{parentName:"p",href:"ref:startrecording"},"start recording")," response."),(0,r.kt)("admonition",{title:"Limited access keys",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Please make sure that the cloud keys you provide to Dyte APIs have only limited access.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'curl --request POST \\\n  --url https://api.dyte.in/v1/organizations/orgid/meetings/meetingid/recording \\\n  --header \'Authorization: APIKEY your-api-key\' \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n        "storageConfig": {\n                "type": "aws",\n                "accessKey": "aws_access_key",\n                "secret": "aws_secret",\n                "bucket": "bucket_name",\n                "region": "aws_region"\n            }\n}\'\n')),(0,r.kt)("p",null,"The currently supported providers are listed below and their relevant parameters are described alongside."),(0,r.kt)("h3",{id:"aws-s3-amazon-web-services"},"AWS S3 (Amazon Web Services)"),(0,r.kt)("p",null,"Dyte supports transferring recordings to ",(0,r.kt)("strong",{parentName:"p"},"AWS S3"),". To set this up, set the following fields on the storage config. (For more information on how to generate these credentials, please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com/premiumsupport/knowledge-center/create-access-key/"},"this page from aws"),"):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type")," must be set to ",(0,r.kt)("strong",{parentName:"li"},"aws"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"accessKey")," must be set to your AWS access key."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"bucket")," must be set to the name of your AWS S3 bucket."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path")," is optional and can contain the path to a sub-folder where recordings must be transferred. By default, if this parameter is not passed, recordings will be transferred in the root folder of the bucket."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secret")," must be set to the your AWS access secret."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"region")," must be set to the region where your spaces bucket is hosted. (Eg: ",(0,r.kt)("inlineCode",{parentName:"li"},"ap-south-1"),")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "storageConfig": {\n    "type": "aws",\n    "accessKey": "aws_access_key",\n    "secret": "aws_secret",\n    "bucket": "bucket_name",\n    "region": "aws_region",\n    "path": "/path/to/a/sub/folder"\n  }\n}\n')),(0,r.kt)("h3",{id:"digitalocean-spaces-digitalocean"},"DigitalOcean Spaces (DigitalOcean)"),(0,r.kt)("p",null,"Dyte supports transferring recordings to ",(0,r.kt)("strong",{parentName:"p"},"Digital Ocean Spaces"),". To set this up, set the following fields on the storage config. (For more information on how to generate these credentials, please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-digitalocean-space-and-api-key"},"this page from digital ocean"),"):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type")," must be set to ",(0,r.kt)("strong",{parentName:"li"},"digitalocean"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"accessKey")," must be set to your digital ocean access key."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"bucket")," must be set to the name of your spaces bucket."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path")," is optional and can contain the path to a sub-folder where recordings must be transferred. By default, if this parameter is not passed, recordings will be transferred in the root folder of the bucket."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secret")," must be set to the your digital ocean access secret."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"region")," must be set to the region where your spaces bucket is hosted. (Eg: ",(0,r.kt)("inlineCode",{parentName:"li"},"SGP1"),")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "storageConfig": {\n    "type": "digitalocean",\n    "accessKey": "do_spaces_key",\n    "secret": "do_spaces_secret",\n    "bucket": "do_space_or_bucket_name",\n    "region": "do_spaces_region",\n    "path": "/path/to/a/sub/folder"\n  }\n}\n')),(0,r.kt)("h3",{id:"azure-blob-storage-azure"},"Azure Blob Storage (Azure)"),(0,r.kt)("p",null,"Dyte supports transferring recordings to ",(0,r.kt)("strong",{parentName:"p"},"Azure Blob Storage"),". To set this up, set the following fields on the storage config:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type")," must be set to ",(0,r.kt)("strong",{parentName:"li"},"azure"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"accessKey")," must have your azure connection string. (Refer to ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-configure-connection-string"},"this page on the azure docs")," for instructions on how to generate this string)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"bucket")," must have the name of your ",(0,r.kt)("inlineCode",{parentName:"li"},"container")," in the same storage account as the connection string where the recordings must be transferred."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path")," is optional and can contain the path to a sub-folder where recordings must be transferred. By default, if this parameter is not passed, recordings will be transferred in the root folder of the container."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secret")," must be set to a blank string ",(0,r.kt)("inlineCode",{parentName:"li"},'""'),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"region")," must be set to a blank string ",(0,r.kt)("inlineCode",{parentName:"li"},'""'),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "storageConfig": {\n    "type": "azure",\n    "accessKey": "connection_string",\n    "secret": "",\n    "bucket": "container_name",\n    "region": "",\n    "path": "/path/to/a/sub/folder"\n  }\n}\n')),(0,r.kt)("p",null,"As always, you can view the ",(0,r.kt)("a",{parentName:"p",href:"/api/#/operations/start_recording"},"complete API reference")," to see all available options for a recording."))}c.isMDXComponent=!0}}]);