"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[4437],{99249:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=n(87462),i=(n(67294),n(3905));const o={},r="Integrating with Webhooks",s={unversionedId:"integrating-with-webhooks",id:"integrating-with-webhooks",title:"Integrating with Webhooks",description:"At Dyte, we run a webhook service for you to be able to subscribe to server events. These webhook events enable you to take certain server actions based on Dyte meeting events and state changes.",source:"@site/docs/guides/integrating-with-webhooks.mdx",sourceDirName:".",slug:"/integrating-with-webhooks",permalink:"/guides/integrating-with-webhooks",draft:!1,editUrl:"https://github.com/OpenIMSDK/OpenIM-Docs/tree/main/docs/docs/guides/integrating-with-webhooks.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dyte Embed",permalink:"/guides/embed"},next:{title:"Livestreaming any RTMP input using Dyte",permalink:"/guides/livestreaming-any-rtmp-streams"}},d={},l=[{value:"Setting a webhook",id:"setting-a-webhook",level:2},{value:"Using webhook APIs",id:"using-webhook-apis",level:3},{value:"Using Dyte dev portal",id:"using-dyte-dev-portal",level:3},{value:"Webhooks",id:"webhooks",level:2},{value:"Supported events",id:"supported-events",level:3},{value:"Interfaces",id:"interfaces",level:3},{value:"Meeting Interface",id:"meeting-interface",level:4},{value:"Participant Interface",id:"participant-interface",level:4},{value:"Recording Interface",id:"recording-interface",level:4},{value:"Live Streaming Interface",id:"live-streaming-interface",level:4},{value:"Verifying a webhook call using signature",id:"verifying-a-webhook-call-using-signature",level:3},{value:"Event details and descriptions",id:"event-details-and-descriptions",level:2},{value:"meeting.started",id:"meetingstarted",level:3},{value:"Structure of webhook body",id:"structure-of-webhook-body",level:4},{value:"Sample webhook body",id:"sample-webhook-body",level:4},{value:"meeting.ended",id:"meetingended",level:3},{value:"Structure of webhook body",id:"structure-of-webhook-body-1",level:4},{value:"Sample webhook body",id:"sample-webhook-body-1",level:4},{value:"meeting.participantJoined",id:"meetingparticipantjoined",level:3},{value:"Structure of webhook body",id:"structure-of-webhook-body-2",level:4},{value:"Sample webhook body",id:"sample-webhook-body-2",level:4},{value:"meeting.participantLeft",id:"meetingparticipantleft",level:3},{value:"Structure of webhook body",id:"structure-of-webhook-body-3",level:4},{value:"Sample webhook body",id:"sample-webhook-body-3",level:4},{value:"recording.statusUpdate",id:"recordingstatusupdate",level:3},{value:"Structure of webhook body",id:"structure-of-webhook-body-4",level:4},{value:"Sample webhook body",id:"sample-webhook-body-4",level:4},{value:"Recording status = <code>INVOKED</code>",id:"recording-status--invoked",level:5},{value:"Recording status = <code>RECORDING</code>",id:"recording-status--recording",level:5},{value:"Recording status = <code>UPLOADING</code>",id:"recording-status--uploading",level:5},{value:"Recording status = <code>UPLOADED</code>",id:"recording-status--uploaded",level:5},{value:"Recording status = <code>ERRORED</code>",id:"recording-status--errored",level:5},{value:"livestreaming.statusUpdate",id:"livestreamingstatusupdate",level:3},{value:"Structure of webhook body",id:"structure-of-webhook-body-5",level:4},{value:"Sample webhook body",id:"sample-webhook-body-5",level:4},{value:"Live stream status = <code>LIVE</code>",id:"live-stream-status--live",level:5},{value:"Live stream status = <code>OFFLINE</code>",id:"live-stream-status--offline",level:5}],u={toc:l};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"integrating-with-webhooks"},"Integrating with Webhooks"),(0,i.kt)("p",null,"At Dyte, we run a webhook service for you to be able to subscribe to server events. These webhook events enable you to take certain server actions based on Dyte meeting events and state changes."),(0,i.kt)("h2",{id:"setting-a-webhook"},"Setting a webhook"),(0,i.kt)("p",null,"There are 2 ways to manage Dyte webhooks for your organization - using APIs and using our dev portal."),(0,i.kt)("h3",{id:"using-webhook-apis"},"Using webhook APIs"),(0,i.kt)("p",null,"You can make simple REST API calls to add, remove or edit a webhook for your organization. Please refer to ",(0,i.kt)("a",{parentName:"p",href:"/api#/operations/create_webhook"},"webhooks")," section under ",(0,i.kt)("a",{parentName:"p",href:"/api"},"API reference")," to get more details on these APIs."),(0,i.kt)("h3",{id:"using-dyte-dev-portal"},"Using Dyte dev portal"),(0,i.kt)("p",null,'On the dev portal, you can navigate to the webhook section and click on the "Create a new webhook" card.'),(0,i.kt)("p",null,'On clicking this, you will get to the interface that helps you add a webhook for your organization. You can fill in the details and click the "Create" button to save and create the webhook.'),(0,i.kt)("p",null,'Once created, you can view the webhook details by clicking on the relevant card. You can also click the "Edit" button on the details screen to edit an existing webhook.'),(0,i.kt)("h2",{id:"webhooks"},"Webhooks"),(0,i.kt)("p",null,"Each webhook request is an HTTPS ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," request to the URL provided by you, where the details about the event are sent in the message body in ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," format and we expect an HTTP status of ",(0,i.kt)("inlineCode",{parentName:"p"},"200 OK")," in response."),(0,i.kt)("h3",{id:"supported-events"},"Supported events"),(0,i.kt)("p",null,"We currently support notifications for the following event via webhooks."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"meeting.started"),(0,i.kt)("li",{parentName:"ul"},"meeting.ended"),(0,i.kt)("li",{parentName:"ul"},"meeting.participantJoined"),(0,i.kt)("li",{parentName:"ul"},"meeting.participantLeft"),(0,i.kt)("li",{parentName:"ul"},"recording.statusUpdate")),(0,i.kt)("h3",{id:"interfaces"},"Interfaces"),(0,i.kt)("p",null,"In order to simplify the webhook structure, we start by defining some types / interfaces / entities which are typically used in the webhook requests. These will later be used as references to explain the webhook request bodies."),(0,i.kt)("h4",{id:"meeting-interface"},"Meeting Interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface Meeting {\n  organizedBy: {\n    id: string;\n    name: string;\n  };\n  id: string;\n  title: string;\n  roomName: string;\n  status: string;\n  createdAt: string;\n}\n")),(0,i.kt)("h4",{id:"participant-interface"},"Participant Interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface Participant {\n  userDisplayName: string;\n  peerId: string;\n  clientSpecificId: string;\n}\n")),(0,i.kt)("h4",{id:"recording-interface"},"Recording Interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface Recording {\n  recordingId: string;\n  status: "INVOKED" | "RECORDING" | "UPLOADING" | "UPLOADED" | "ERRORED";\n  startedTime: string;\n  stoppedTime: string;\n  downloadUrl?: string;\n  downloadUrlExpiry?: string;\n  errMessage?: string;\n  invokedTime: string;\n  filesize?: double;\n}\n')),(0,i.kt)("h4",{id:"live-streaming-interface"},"Live Streaming Interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface LiveStreaming {\n    streamId: string;\n    status: "LIVE" | "OFFLINE";\n}\n')),(0,i.kt)("h3",{id:"verifying-a-webhook-call-using-signature"},"Verifying a webhook call using signature"),(0,i.kt)("p",null,"Each webhook request is signed using Dyte's private key, and the same can be verified at your end by following the below steps."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Get Dyte's public key"),": This can be done by making a ",(0,i.kt)("inlineCode",{parentName:"p"},"GET")," request to this URL - ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.cluster.dyte.in/.well-known/webhooks.json"),"."),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl -X GET "https://api.cluster.dyte.in/.well-known/webhooks.json"\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Check for the signature header"),": Each incoming request should have a custom ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-signature")," header. This is the signature value that you would be verifying in the next step.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Verify the signature"),": The signature value is based on ",(0,i.kt)("inlineCode",{parentName:"p"},"RSA-SHA256")," digest of the payload. You can calculate the same at your end, and if the value matches the one supplied in the header as described by previous step, you should consider the webhook to be originating from the correct server. For example, you can do the following:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},'const signature = req.headers["dyte-signature"];\nconst payload = req.body;\n\nconst isVerified = crypto.verify(\n  "RSA-SHA256",\n  Buffer.from(JSON.stringify(payload)),\n  dytePublicKey,\n  Buffer.from(signature, "base64")\n);\n')))),(0,i.kt)("admonition",{title:"JSON Stringification",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Few languages like Python, and maybe if you are using a specific library for JSON processing, your ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON.stringify")," results may not be consistent. Please make sure that there are no such quirks as spaces in between the stringified JSON before trying to verify the webhook signature.")),(0,i.kt)("h2",{id:"event-details-and-descriptions"},"Event details and descriptions"),(0,i.kt)("p",null,"In the following sections, we describe each event and the kind of data that is sent along with the webhook."),(0,i.kt)("h3",{id:"meetingstarted"},"meeting.started"),(0,i.kt)("p",null,"This event is fired when the first participant joins a meeting."),(0,i.kt)("h4",{id:"structure-of-webhook-body"},"Structure of webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface MeetingCreated {\n  event: "meeting.started";\n  meeting: Meeting;\n}\n')),(0,i.kt)("h4",{id:"sample-webhook-body"},"Sample webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "meeting.started",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  }\n}\n')),(0,i.kt)("h3",{id:"meetingended"},"meeting.ended"),(0,i.kt)("p",null,"This event is fired 1 minute after all the participants leave the meeting or host end the meeting. We add a minute delay to make sure we don't end a meeting due to disconnects."),(0,i.kt)("h4",{id:"structure-of-webhook-body-1"},"Structure of webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface MeetingEnded {\n  event: "meeting.ended";\n  meeting: Meeting;\n  reason: "ALL_PARTICIPANTS_LEFT" |  "HOST_ENDED_MEETING"\n}\n')),(0,i.kt)("h4",{id:"sample-webhook-body-1"},"Sample webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "meeting.ended",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "reason": "HOST_ENDED_MEETING"\n}\n')),(0,i.kt)("h3",{id:"meetingparticipantjoined"},"meeting.participantJoined"),(0,i.kt)("p",null,"This event is fired whenever a participant joins a meeting."),(0,i.kt)("h4",{id:"structure-of-webhook-body-2"},"Structure of webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface MeetingParticipantJoined {\n  event: "meeting.participantJoined";\n  meeting: Meeting;\n  participant: Participant;\n}\n')),(0,i.kt)("h4",{id:"sample-webhook-body-2"},"Sample webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "meeting.participantJoined",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "participant": {\n    "userDisplayName": "Rohan",\n    "peerId": "7eef23c6-1985-492b-9b95-99bac37b60d7",\n    "clientSpecificId": "a6b2ac87-6f45-46d9-b48a-7e9ccdfd7517"\n  }\n}\n')),(0,i.kt)("h3",{id:"meetingparticipantleft"},"meeting.participantLeft"),(0,i.kt)("p",null,"This event is fired whenever a participant leaves a meeting. This event is also fired when a participant gets disconnected."),(0,i.kt)("h4",{id:"structure-of-webhook-body-3"},"Structure of webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface MeetingParticipantLeft {\n  event: "meeting.participantLeft";\n  meeting: Meeting;\n  participant: Participant;\n}\n')),(0,i.kt)("h4",{id:"sample-webhook-body-3"},"Sample webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "meeting.participantLeft",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "participant": {\n    "userDisplayName": "Rohan",\n    "peerId": "7eef23c6-1985-492b-9b95-99bac37b60d7",\n    "clientSpecificId": "a6b2ac87-6f45-46d9-b48a-7e9ccdfd7517"\n  }\n}\n')),(0,i.kt)("h3",{id:"recordingstatusupdate"},"recording.statusUpdate"),(0,i.kt)("p",null,"This event is fired whenever there is a status update for a meeting recording. There are five such statuses for now:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"INVOKED"),": The recording function has been invoked and will start recording the meeting very shortly."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RECORDING"),": The meeting is currently being recorded."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"UPLOADING"),": The recording has been stopped and the file is being uploaded to cloud storage. The storage would be Dyte's if no storage parameters are passed in the recording API call."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"UPLOADED"),": The recording file upload is complete."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ERRORED"),": There was an error while recording the meeting and the file wouldn't be available.")),(0,i.kt)("h4",{id:"structure-of-webhook-body-4"},"Structure of webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface RecordingStatusUpdate {\n  event: "recording.statusUpdate";\n  meeting: Meeting;\n  recording: Recording;\n}\n')),(0,i.kt)("h4",{id:"sample-webhook-body-4"},"Sample webhook body"),(0,i.kt)("h5",{id:"recording-status--invoked"},"Recording status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"INVOKED")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "recording.statusUpdate",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "recording": {\n    "recordingId": "7a789a2d-1142-4be3-a208-4d25a75663e7",\n    "status": "INVOKED",\n    "invokedTime": "2021-02-01T10:08:21.917Z"\n  }\n}\n')),(0,i.kt)("h5",{id:"recording-status--recording"},"Recording status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"RECORDING")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "recording.statusUpdate",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "recording": {\n    "recordingId": "7a789a2d-1142-4be3-a208-4d25a75663e7",\n    "status": "RECORDING",\n    "invokedTime": "2021-02-01T10:08:21.917Z",\n    "startedTime": "2021-02-01T10:08:22.917Z"\n  }\n}\n')),(0,i.kt)("h5",{id:"recording-status--uploading"},"Recording status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"UPLOADING")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "recording.statusUpdate",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "recording": {\n    "recordingId": "7a789a2e-1141-4bd3-a908-4d30a75773e7",\n    "status": "UPLOADING",\n    "invokedTime": "2021-02-01T10:08:21.917Z",\n    "startedTime": "2021-02-01T10:08:21.917Z",\n    "stoppedTime": "2021-02-01T10:08:21.917Z",\n    "filesize": 123.45\n  }\n}\n')),(0,i.kt)("h5",{id:"recording-status--uploaded"},"Recording status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"UPLOADED")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "recording.statusUpdate",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "recording": {\n    "recordingId": "7a789a2e-1141-4bd3-a908-4d30a75773e7",\n    "status": "UPLOADED",\n    "invokedTime": "2021-02-01T10:08:21.917Z",\n    "startedTime": "2021-02-01T10:08:21.917Z",\n    "stoppedTime": "2021-02-01T10:08:21.917Z",\n    "downloadUrl": "https://dyte-recordings.s3.ap-south-1.amazonaws.com/4086c8ec-d410-4707-a976-3021ea432afe/testing-room_1612865231994.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIA5YIELHA%2F20210209%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20210209T100821Z&X-Amz-Expires=432000&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCmFwLXNvdXRoLTEiSDBGAiEAuTSvvZqzO2pUqbDhARzAL3VFoyy0Y46EIzM7W%2Ff0VpcCIQC6tX%2BjoVyuZR2hBPkVoVi8Wjk2EgHjRso%2FyTieku6a7Cq%2FAwiL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDk0NDkwODYyMTQxMCIMYaJWugiFY9VEWG%2F8KpMDm0QQG%2BaorDTJWlYrWeDMMyZv74rxS2B6VOEAMM%DtDELOD9HFdK33wLiO8AUYoIOqm1Y7cN0xKNRjE%2BLT9F1Un3iFWH6Wjv09N6y9Nd4%2rZJaVajtKuxJW710HBOK6kCscKWgMuNwy7qpm042WdjOuwkN3E%2BIW9tbELWeQrWy0XOd6pVp7vhZuaVQqB0Vq1dQ2xz6kTMAKDGbPbM6qZnY7SzWdKzNsPaXqJD0H%2B8VMb0No4MaHVcKfWml3dgo2UIs6Vnyr0nzPywSqHpkOtBtDxzRdh0ch08x0A6EqAoBSEJallDy4dZ3koRqFg0GB00fZ%2FXrdcRRCPvlmaWM3NwCvdyIdC31d03dc0TdHfjonizte7Ph4qdnI2tiu5J%2Fq441f5t8FvY2au0LnjSXsFB8kjJcli%2B8n%2FmxQF%2FqA%2F2dsfWyOZb881oCr1Wwe0Gc6CumcZu1Rv%2Bs2eAFXltkqfpB29jwLAGTC0vYmBBjrqAYlY8VkIx4mD5DR3kRMaS9Stn1s5Tt79dljeEWBFtfSzDmwnC%2FQENhHsFofiBf516mh62OVk160vDw%2FIEfPZCRT6w9rq%2BxhWo86unyaFPKbludpxeHlo0evjIf1PM9LdapoSHMSRxk6hpbwNu5oODPFEsEHxjwPfTrsrQzEgg%2BusLCK%2BVSfQsLhN8oyZvOZKvK%2FmRBh3fORICjG4UcvQ%2FVkqpjFKgdfR5NAuBlJWEWwFwxz1fJ2Ix9USb3ygAMvkcI2C6%2BHVqzRYpONYsmrum3mJcL4SOpaMTgSMwfBmYhtPuFAZH8G5rUiJKA%3D%3D&X-Amz-Signature=1df1f6b43c86e7cbfb529deed007724ebac0fa6a0d884c9fa9179881d61541f4&X-Amz-SignedHeaders=host",\n    "downloadUrlExpiry": "2021-02-14T10:08:21.917Z",\n    "filesize": 123.45\n  }\n}\n')),(0,i.kt)("h5",{id:"recording-status--errored"},"Recording status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"ERRORED")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "recording.statusUpdate",\n  "meeting": {\n    "id": "cae39473-ef23-4ca2-a9e9-98f1509354f2",\n    "title": null,\n    "roomName": "testing-room",\n    "status": "LIVE",\n    "createdAt": "2021-02-09T10:07:11.675Z",\n    "organizedBy": {\n      "id": "4fd15a19-80e2-4305-bf13-49039f32963f",\n      "name": "myOrganization"\n    }\n  },\n  "recording": {\n    "recordingId": "7a789a2e-1141-4bd3-a908-4d30a75773e7",\n    "invokedTime": "2021-02-01T10:08:21.917Z",\n    "stoppedTime": "2021-02-01T10:08:21.917Z",\n    "status": "ERRORED",\n    "errMessage": "Description of the error."\n  }\n}\n')),(0,i.kt)("h3",{id:"livestreamingstatusupdate"},"livestreaming.statusUpdate"),(0,i.kt)("p",null,"This event is fired whenever there is a status update for a registered live stream. Eg, live stream started or ended."),(0,i.kt)("h4",{id:"structure-of-webhook-body-5"},"Structure of webhook body"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface LiveStreamStatus {\n  event: "livestreaming.statusUpdate";\n  streamId: string;\n  status: "LIVE" | "OFFLINE";\n}\n')),(0,i.kt)("h4",{id:"sample-webhook-body-5"},"Sample webhook body"),(0,i.kt)("h5",{id:"live-stream-status--live"},"Live stream status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"LIVE")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "livestreaming.statusUpdate",\n  "streamId": "379376233992735813373956",\n  "status": "LIVE"\n}\n')),(0,i.kt)("h5",{id:"live-stream-status--offline"},"Live stream status = ",(0,i.kt)("inlineCode",{parentName:"h5"},"OFFLINE")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "event": "livestreaming.statusUpdate",\n  "streamId": "379376233992735813373956",\n  "status": "OFFLINE"\n}\n')))}c.isMDXComponent=!0}}]);