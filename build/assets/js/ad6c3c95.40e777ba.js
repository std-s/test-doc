"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[7384],{86082:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=t(87462),o=(t(67294),t(3905));const r={sidebar_position:1,slug:"/"},i="Quickstart",s={unversionedId:"quickstart",id:"quickstart",title:"Quickstart",description:"\u5df4\u62c9\u5df4\u62c9:",source:"@site/docs/sdks/quickstart.mdx",sourceDirName:".",slug:"/",permalink:"/sdks/",draft:!1,editUrl:"https://github.com/OpenIMSDK/OpenIM-Docs/tree/main/docs/docs/sdks/quickstart.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/"},sidebar:"tutorialSidebar",previous:{title:"installation",permalink:"/sdks/installation"},next:{title:"\u7fa4\u804a\u76f8\u5173API",permalink:"/sdks/group/"}},l={},c=[{value:"\u521d\u59cb\u5316",id:"\u521d\u59cb\u5316",level:2}],d=n=>function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)},p=d("Tabs"),u=d("TabItem"),g={toc:c};function m(n){let{components:e,...t}=n;return(0,o.kt)("wrapper",(0,a.Z)({},g,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"quickstart"},"Quickstart"),(0,o.kt)("p",null,"\u5df4\u62c9\u5df4\u62c9:"),(0,o.kt)("h2",{id:"\u521d\u59cb\u5316"},"\u521d\u59cb\u5316"),(0,o.kt)("p",null,"\u521d\u59cb\u5316\u5e76\u767b\u5f55IM\uff0c\u4f7f\u7528\u7528\u6237ID(userID)\u548ctoken\u767b\u5f55\uff0cuserID\u6765\u81ea\u4e8e\u81ea\u8eab\u4e1a\u52a1\u670d\u52a1\u5668\uff0ctoken\u9700\u8981\u4e1a\u52a1\u670d\u52a1\u5668\u6839\u636esecret\u5411OpenIM\u670d\u52a1\u7aef\u4ea4\u6362\u83b7\u53d6\u3002url\u4e3aOpenIM Server\u90e8\u7f72\u670d\u52a1\u5668\u7684web server websocket\u5730\u5740\u3002"),(0,o.kt)("br",null),"\u6ce8\u610f1\uff1aJSSDK ws\u8fde\u63a5\u7aef\u53e3\u4e3a10003\u7aef\u53e3\uff0c\u4e0e\u5176\u4ed6\u7aefSDK\u4e0d\u540c\uff0c\u8bf7\u52ff\u6df7\u6dc6\u3002",(0,o.kt)("br",null),"\u6ce8\u610f2\uff1a\u5fc5\u987b\u786e\u4fdd\u767b\u5f55\u6210\u529f\u56de\u8c03\u5230\u8fbe\u540e\u624d\u80fd\u8c03\u7528\u5176\u4ed6API\u3002",(0,o.kt)(p,{groupId:"sdks-language",defaultValue:"Flutter",values:[{label:"Flutter",value:"Flutter"},{label:"iOS",value:"iOS"},{label:"Android",value:"Android"},{label:"uniapp",value:"uniapp"},{label:"js",value:"js"}],mdxType:"Tabs"},(0,o.kt)(u,{value:"Flutter",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},'OpenIM.iMManager.initSDK(\n    platform: 0, // \u5e73\u53f0\uff0c\u53c2\u7167IMPlatform\u7c7b,\n    apiAddr: "", // SDK\u7684API\u63a5\u53e3\u5730\u5740\u3002\u5982\uff1ahttp://xxx:10002\n    wsAddr: "",  // SDK\u7684web socket\u5730\u5740\u3002\u5982\uff1a ws://xxx:10001\n    dataDir: "", // \u6570\u636e\u5b58\u50a8\u8def\u5f84\u3002\u5982\uff1avar apath =(await getApplicationDocumentsDirectory()).path\n    objectStorage: \'cos\', // \u56fe\u7247\u670d\u52a1\u5668\u9ed8\u8ba4\'cos\'\uff0c\u652f\u6301 minio\uff0coss\n    logLevel: 6, // \u65e5\u5fd7\u7b49\u7ea7\uff0c\u9ed8\u8ba4\u503c6\n    listener: OnConnectListener(\n      onConnectSuccess: () {\n        // \u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u5230\u670d\u52a1\u5668\n      },\n      onConnecting: () {\n        // \u6b63\u5728\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0c\u9002\u5408\u5728 UI \u4e0a\u5c55\u793a\u201c\u6b63\u5728\u8fde\u63a5\u201d\u72b6\u6001\u3002\n      },\n      onConnectFailed: (code, errorMsg) {\n        // \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25\uff0c\u53ef\u4ee5\u63d0\u793a\u7528\u6237\u5f53\u524d\u7f51\u7edc\u8fde\u63a5\u4e0d\u53ef\u7528\n      },\n      onUserSigExpired: () {\n        // \u767b\u5f55\u7968\u636e\u5df2\u7ecf\u8fc7\u671f\uff0c\u8bf7\u4f7f\u7528\u65b0\u7b7e\u53d1\u7684 UserSig \u8fdb\u884c\u767b\u5f55\u3002\n      },\n      onKickedOffline: () {\n        // \u5f53\u524d\u7528\u6237\u88ab\u8e22\u4e0b\u7ebf\uff0c\u6b64\u65f6\u53ef\u4ee5 UI \u63d0\u793a\u7528\u6237\u201c\u60a8\u5df2\u7ecf\u5728\u5176\u4ed6\u7aef\u767b\u5f55\u4e86\u5f53\u524d\u8d26\u53f7\uff0c\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f\u201d\n      },\n    ),\n  ).then((value){\n      if(value == true){\n        // \u521d\u59cb\u5316\u6210\u529f\n      }\n  });\n\n'))),(0,o.kt)(u,{value:"iOS",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-objectivec"},'  /* \u521d\u59cb\u5316\n * @param apiAddr       SDK\u7684api\u5730\u3002\u5982http://xxx:10002\n * @param wsAddr        SDK\u7684web socket\u5730\u5740\u3002\u5982\uff1a ws://xxx:10001\n * @param dataDir       \u6570\u636e\u5b58\u50a8\u8def\u5f84\uff0c\u9ed8\u8ba4/Documents\n * @param logLevel      \u9ed8\u8ba46\n * @param objectStorage \u9ed8\u8ba4cos\uff0cminio\u586b\u5199\'minio\'\n */\n  BOOL initSuccess = [OIMManager.manager initSDKWithApiAdrr:API_ADDRESS\n                                                       wsAddr:WS_ADDRESS\n                                                      dataDir:nil\n                                                     logLevel:6\n                                                objectStorage:nil\n                                                 onConnecting:^{\n        \n        NSLog(@"\\nconnecting");\n    } onConnectFailure:^(NSInteger code, NSString * _Nullable msg) {\n        NSLog(@"\\n connect failure");\n    } onConnectSuccess:^{\n        NSLog(@"\\nconnect success");\n    } onKickedOffline:^{\n        NSLog(@"\\nkicked offline");\n    } onUserTokenExpired:^{\n        NSLog(@"\\nuser token expired");\n    }];\n    \n    NSLog(@"\u521d\u59cb\u5316\u6210\u529f\u4e0e\u5426\uff1a%d", initSuccess);\n'))),(0,o.kt)(u,{value:"Android",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u521d\u59cb\u5316sdk\n     * \u6ce8\uff1a\u5728\u521b\u5efa\u56fe\u7247\uff0c\u8bed\u97f3\uff0c\u89c6\u9891\uff0c\u6587\u4ef6\u7b49\u9700\u8981\u8def\u5f84\u53c2\u6570\u7684\u6d88\u606f\u4f53\u65f6\uff0c\n     * \u5982\u679c\u9009\u62e9\u7684\u662f\u975e\u5168\u8def\u5f84\u65b9\u6cd5\u5982\uff1acreateSoundMessage\uff08\u5168\u8def\u5f84\u65b9\u6cd5\u4e3a\uff1acreateSoundMessageFromFullPath\uff09,\n     * \u9700\u8981\u5c06\u6587\u4ef6\u81ea\u884c\u62f7\u8d1d\u5230dbPath\u76ee\u5f55\u4e0b\uff0c\u5982\u679c\u6b64\u65f6\u6587\u4ef6\u8def\u5f84\u4e3a apath+"/sound/a.mp3"\uff0c\u5219\u53c2\u6570path\u7684\u503c\u4e3a\uff1a/sound/a.mp3\u3002\n     * \u5982\u679c\u9009\u62e9\u7684\u5168\u8def\u5f84\u65b9\u6cd5\uff0c\u8def\u5f84\u4e3a\u4f60\u6587\u4ef6\u7684\u5b9e\u9645\u8def\u5f84\u4e0d\u9700\u8981\u518d\u62f7\u8d1d\u3002\n     *\n     * @param apiUrl        SDK\u7684API\u63a5\u53e3\u5730\u5740\u3002\u5982\uff1ahttp:xxx:10002\n     * @param wsUrl         SDK\u7684web socket\u5730\u5740\u3002\u5982\uff1a ws:xxx:10001\n     * @param storageDir    \u6570\u636e\u5b58\u50a8\u76ee\u5f55\u8def\u5f84\n     * @param logLevel      \u65e5\u5fd7\u7b49\u7ea7\uff0c\u5982\uff1a6\n     * @param objectStorage \u56fe\u7247\u4e0a\u4f20\u914d\u7f6e \u5982\uff1acos\n     * @param listener      SDK\u521d\u59cb\u5316\u76d1\u542c\n     * @return boolean   true\u6210\u529f; false\u5931\u8d25\n     */\n    public boolean initSDK(String apiUrl, String wsUrl, String storageDir, int logLevel, String objectStorage, OnConnListener listener) \n\n\n**\n * \u53ea\u6709\u5728\u8c03\u7528sdk\u7684login\u65b9\u6cd5\u540e\u624d\u5f00\u59cb\u56de\u8c03\n */\npublic interface OnConnListener {\n\n    /**\n     * \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25\n     * \u53ef\u4ee5\u63d0\u793a\u7528\u6237\u5f53\u524d\u7f51\u7edc\u8fde\u63a5\u4e0d\u53ef\u7528\n     */\n    void onConnectFailed(long code, String error);\n\n    /**\n     * \u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u5230\u670d\u52a1\u5668\n     */\n    void onConnectSuccess();\n\n    /**\n     * \u6b63\u5728\u8fde\u63a5\u5230\u670d\u52a1\u5668\n     * \u9002\u5408\u5728 UI \u4e0a\u5c55\u793a\u201c\u6b63\u5728\u8fde\u63a5\u201d\u72b6\u6001\u3002\n     */\n    void onConnecting();\n\n    /**\n     * \u5f53\u524d\u7528\u6237\u88ab\u8e22\u4e0b\u7ebf\n     * \u6b64\u65f6\u53ef\u4ee5 UI \u63d0\u793a\u7528\u6237\u201c\u60a8\u5df2\u7ecf\u5728\u5176\u4ed6\u7aef\u767b\u5f55\u4e86\u5f53\u524d\u8d26\u53f7\uff0c\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f\u201d\n     */\n    void onKickedOffline();\n\n    /**\n     * \u767b\u5f55\u7968\u636e\u5df2\u7ecf\u8fc7\u671f\n     * \u8bf7\u4f7f\u7528\u65b0\u7b7e\u53d1\u7684 UserSig \u8fdb\u884c\u767b\u5f55\u3002\n     */\n    void onUserTokenExpired();\n}\n\n'))),(0,o.kt)(u,{value:"uniapp",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},' const config = {\n"platform":1, //\u5e73\u53f0\u53f7 \u53c2\u8003\u901a\u7528\u7ed3\u6784\u4e2dPlatform\n"api_addr":"http://121.37.25.71:10002", //IM API\u5730\u5740\n"ws_addr":"ws://121.37.25.71:10001", //IM Ws\u5730\u5740\n"data_dir":"./", //SDK\u6570\u636e\u5b58\u653e\u76ee\u5f55\uff08\u7edd\u5bf9\u8def\u5f84\uff09\n"log_level":6,     //SDK\u65e5\u5fd7\u7ea7\u522b\n"object_storage":"minio"    // \u56fe\u7247\u7b49\u8d44\u6e90\u50a8\u5b58\u65b9\u5f0f \u76ee\u524d\u652f\u6301"minio"\u3001"cos"\n}\nconst flag = im.initSDK(operationID,config) //\u8fd4\u56de\u503c\u4e3a\u5e03\u5c14\u503c\u544a\u77e5\u662f\u5426\u521d\u59cb\u5316\u6210\u529f\n\n'))),(0,o.kt)(u,{value:"js",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},' const config: InitConfig = {\n  userID: "userID",                                // \u7528\u6237ID\n  token: "token",                                    // \u7528\u6237token\n  url: "ws://121.37.25.71:10003",    // jssdk server ws\u5730\u5740\n  platformID: 5,                                    // \u5e73\u53f0\u53f7\n};\nopenIM.login(config).then(res => {\n  console.log("login suc...");\n}).catch(err => {\n  console.log("login failed...");\n})\n\n')))))}m.isMDXComponent=!0}}]);